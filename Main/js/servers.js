let List=document.getElementById("List"),Page=0;function Reload(e){"Next"===e?Page++:0!==Page&&Page--;let t="?name="+$('input[name="name"]').val()+"&sort="+$('select[name="sort"]').val();Page&&(t=t+"&page="+Page);let r=new XMLHttpRequest;List.innerHTML="";var s=document.createElement("div");List.appendChild(s),s.setAttribute("class","spinner-border text-primary"),s.setAttribute("style","margin: 0 auto;"),r.open("GET","/api/servers"+encodeURI(t),!0),r.setRequestHeader("Content-Type","application/json"),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){let r=JSON.parse(this.responseText);if(0===r.servers.length)return List.innerHTML='<div class="card mb-5 text-center zoom-on-hover" style="height: 165px; width: 350px; margin-left: 20px; margin-right: 20px;"><img src="https://www.rbxbolt.com/images/RBXBolt.png" class="rounded server-list-icon" width="100" height="100"><div class="card-body text-left"><h5 class="card-title">No result found</h5><span class="badge badge-secondary mb-4" style="text-transform: none; font-size: 0.9rem;">:(</span><div class="mb-4"></div></div></div>',void Page--;List.innerHTML="";for(var e=0;e<r.servers.length;e++){let c=r.servers[e];if(c){var t=document.createElement("div"),s=document.createElement("img"),n=document.createElement("div"),a=document.createElement("h5"),i=document.createElement("span"),d=document.createElement("div"),l=document.createElement("div");if(t.setAttribute("onclick",`PopupWindow('${c.url}', 500, 600)`),t.setAttribute("class","card mb-5 text-center zoom-on-hover"),t.setAttribute("style","height: 300px; width: 350px; margin-left: 20px; margin-right: 20px;"),n.setAttribute("class","card-body text-left"),a.setAttribute("class","card-title"),a.innerHTML=c.name,c.featured){t.setAttribute("class","card featured mb-5 text-center zoom-on-hover");var o=document.createElement("span");o.setAttribute("class","badge badge-warning mb-4"),o.setAttribute("style","text-transform: none; font-size: 0.9rem;"),o.innerHTML="Featured",n.appendChild(o)}i.setAttribute("class","badge badge-secondary mb-4"),i.setAttribute("style","text-transform: none; font-size: 0.9rem;"),i.innerHTML=`${c.members} Members`,d.setAttribute("class","mb-4"),l.setAttribute("class","card-subtitle server-list-card-subtitle mb-3"),l.setAttribute("style","word-wrap: break-word;"),l.innerHTML=c.description,s.setAttribute("src",c.icon),"images/RBXBolt.png"===c.icon?s.setAttribute("class","rounded server-list-icon grayscale"):s.setAttribute("class","rounded server-list-icon"),s.setAttribute("width",100),s.setAttribute("height",100),t.appendChild(s),t.appendChild(n),n.appendChild(a),n.appendChild(i),n.appendChild(d),n.appendChild(l),List.appendChild(t)}}}},r.send()}Reload();